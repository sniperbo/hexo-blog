---
title: IE浏览器获取json的问题
date: 2016-10-06 13:25:01
categories: study_blog
tags: [ie,json,前端]
---

以前的记录[博客园](http://www.cnblogs.com/sniper-allen/p/5327649.html)

最近在做一个考试的项目，其中有一个需求是学生意外退出考试后，再次进入考试的时候(考试过程中会自动保存成json存到数据库)学生上次的做的题目能够被自动填充。之前测试，一直是用chrome测的，啥问题都没有，然后前天发现在ie8下面不可以，然后昨天发现在所有的IE浏览器下面都不可以（包括Edge）。
<!-- more -->
开始我以为是函数没被执行，然后在函数的最开始console一下发现是可以的，然后把console放在$getjson的函数中，发现问题了，console没有被执行。问题就出在这里，$getjson没有获取到数据，那为什么在别的浏览器可以。而后度娘之，发现是缓存问题。

一般有三种解决方式:

1. $getjson时URL加上一个随机的参数，确保每次URL都不一样，我这样做了发现只有第一次可以，然后就不行了，不知道问题出在哪里，在研究吧。
2. 使用$ajax代替$getjson，然后在参数里加上cache:false，这样做了之后是有效的，我就这样改了。
3. 服务端禁用缓存。